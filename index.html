<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="External Fire Spread Project." />
    <meta
      name="keywords"
      content="External, Fire, Spread, Fire Spread, Project"
    />
    <link rel="icon" href="./assets/fire-spread.svg" type="image/x-icon" />

    <title>External Fire Spread Project</title>
    <meta name="author" content="pixelstrap" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css
    "
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js
    "></script>
    <script
      src="https://code.jquery.com/jquery-3.6.3.min.js"
      integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
      crossorigin="anonymous"
    ></script>
    <script src="https://evanplaice.github.io/jquery-csv/src/jquery.csv.min.js"></script>
  </head>
  <style>
    body {
      background: #0f2027; /* fallback for old browsers */
      background: -webkit-linear-gradient(
        to left,
        #2c5364,
        #203a43,
        #0f2027
      ); /* Chrome 10-25, Safari 5.1-6 */
      background: linear-gradient(
        to left,
        #2c5364,
        #203a43,
        #0f2027
      ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th,
    td {
      border: 1px solid darkseagreen;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: transparent;
      color: aqua;
      text-align: center;
    }
  </style>
  <body>
    <div class="container text-white">
      <p class="text-center my-3">
        <img
          src="./assets/fire-spread.svg"
          class="img-fluid"
          alt="fire-spread"
          width="250"
          height="250"
        />
      </p>

      <form id="myForm" action="#" class="form-detection">
        <div class="row text-center">
          <!-- Case Number div -->
          <div class="col">
            <div class="form-group">
              <label for="Case">Case Number</label>
              <input
                class="form-control input-lg text-center"
                name="Case"
                id="Case"
                type="text"
                placeholder="Case Number "
                required
              />
            </div>
          </div>

          <!-- Radiation Type -->
          <div class="col">
            <label for="tRadiation">Radiation Type</label>
            <input
              class="form-control input-lg text-center"
              name="tRadiation"
              id="tRadiation"
              placeholder="Radiation Type "
              type="text"
              required
            />
            <ul
              style="list-style-type: none"
              class="list-group list-group-horizontal-md"
            >
              <li class="px-2">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="tValue"
                    id="tValue1"
                    value="low"
                  />
                  <label class="form-check-label" for="tValue1"> low </label>
                </div>
              </li>
              <li class="px-2">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="tValue"
                    id="tValue2"
                    value="high"
                  />
                  <label class="form-check-label" for="tValue2"> high </label>
                </div>
              </li>
            </ul>
          </div>
          <!-- height of case div -->
          <div class="col">
            <div class="form-group">
              <label for="Height">Height of Case</label>
              <input
                class="form-control input-lg text-center"
                name="Height"
                id="Height"
                type="number"
                step="0.001"
                onwheel="return false;"
                placeholder="Height of Case (m)"
                required
              />
            </div>
          </div>
          <!-- width of case div -->
          <div class="col">
            <div class="form-group">
              <label for="Width">Widht of Case</label>
              <input
                class="form-control input-lg text-center"
                name="Width"
                id="Width"
                type="number"
                step="0.001"
                onwheel="return false;"
                placeholder="Width of Case (m)"
                required
              />
            </div>
          </div>
          <!-- boundery distance div -->
          <div class="col">
            <div class="form-group">
              <label for="Boundery">Boundery Distance</label>
              <input
                class="form-control input-lg text-center"
                type="number"
                step="0.001"
                name="Boundery"
                id="Boundery"
                onwheel="return false;"
                placeholder="Boundery Distance (m)"
                required
              />
            </div>
          </div>
        </div>
      </form>
      <div class="d-grid gap-2 d-md-block text-center">
        <button class="btn btn-lg btn-outline-warning" onclick="addToTable()">
          Calculate
        </button>
      </div>
      <!-- table start -->
      <table id="resultsTable" class="my-5">
        <thead>
          <tr>
            <th>Case No.</th>
            <th>Radiation Type</th>
            <th>Height</th>
            <th>Width</th>
            <th>Boundery Distance</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <!-- table end -->
    </div>

    <script src="assets/csvData.js"></script>
    <!-- script form to table -->
    <script>
      function addToTable() {
        const caseNumber = document.getElementById("Case").value;
        const radiationOfCase = document.getElementById("tRadiation").value;
        const heightOfCase = document.getElementById("Height").value;
        const widthOfCase = document.getElementById("Width").value;
        const bounderyOfCase = document.getElementById("Boundery").value;

        // Create a new row with the input values
        const newRow = document.createElement("tr");
        newRow.innerHTML = `<td>${caseNumber}</td><td>${radiationOfCase}</td><td>${heightOfCase} m</td><td>${widthOfCase} m</td><td>${bounderyOfCase} m</td>`;

        // Append the new row to the table's tbody
        document
          .getElementById("resultsTable")
          .querySelector("tbody")
          .appendChild(newRow);
      }

      // radio button value picker
      $(document).ready(function () {
        $("input[type='radio']").click(function (e) {
          var radioValue = $("input[name='tValue']:checked").val();

          if (radioValue) {
            document.getElementById("tRadiation").value = radioValue;
          }
        });
      });

      // Step 1: indentify table
      $(".btn-outline-warning").click(function (e) {
        var radiationOfCase = $("input[name='tValue']:checked").val();
        var heightOfCase = document.getElementById("Height").value;

        if (heightOfCase <= 3) {
          heightOfCase = "3";
        } else if (heightOfCase > 3 && heightOfCase <= 6) {
          heightOfCase = "6";
        } else if (heightOfCase > 6 && heightOfCase <= 9) {
          heightOfCase = "9";
        } else if (heightOfCase > 9 && heightOfCase <= 12) {
          heightOfCase = "12";
        } else if (heightOfCase > 12 && heightOfCase <= 15) {
          heightOfCase = "15";
        } else if (heightOfCase > 15 && heightOfCase <= 18) {
          heightOfCase = "18";
        } else if (heightOfCase > 18 && heightOfCase <= 21) {
          heightOfCase = "21";
        } else if (heightOfCase > 21 && heightOfCase <= 24) {
          heightOfCase = "24";
        } else if (heightOfCase > 24 && heightOfCase <= 27) {
          heightOfCase = "27";
        } else if (heightOfCase > 27 && heightOfCase <= 30) {
          heightOfCase = "30";
        } else {
        }

        var csvKey = radiationOfCase + heightOfCase;
        console.log(csvKey);
        const selectedArray = arrays[csvKey];
        console.log(selectedArray.length);

        for (var i = 0; i < selectedArray.length; i++) {
          if (selectedArray[i].Width === "4.5") {
            console.log(selectedArray[i]);
          }
        }
      });
    </script>
  </body>
</html>
